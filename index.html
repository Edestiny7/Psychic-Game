<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <!--<link rel="stylesheet" href="./assets/css/reset.css">-->
    <link rel="stylesheet" type="text/css" href="./assets/css/style.css">
    <script type="text/javascript" src="./assets/javascript/game.js"></script>
    <title>The Psychic Game</title>
</head>

<body>
    <main>
        <section>
            <container>
                <div class="row">
                    <div class="col-12">
                        <h1>The Psychic Game</h1>
                    </div>
                </div>
                <div class="row">
                    <div class="col-3">
                        <p id="wins-text"></p>
                    </div>
                    <div class="col-6">
                        <p id="directions-text">Guess the letter I am thinking of</p>
                    </div>
                    <div class="col-3">
                        <p id="losses-text"></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <p id="userSelection-text"></p>
                    </div>
                    <div class="col-6">
                        <p id="guessesRemaining-text"></p>
                    </div>
                </div>
            </container>
        </section>
    </main>

    <script type="text/javascript">

        // Psychic letter selection from the js function
        let psychicChoice = random_letter(psychicSelection);
        let guessesRemaining = 9;
        let userSelection = [];
        let psychicScore = 0;
        let userScore = 0;

        //Variable references
        let winsText = document.getElementById("wins-text");
        let lossesText = document.getElementById("losses-text");
        let guessesRemainingText = document.getElementById("guessesRemaining-text");
        let userSelectionText = document.getElementById("userSelection-text");

        //Runs when user enters guess
        reset();
        document.onkeyup = function (event) {

            // User guess
            let userChoice = event.key.toLowerCase();

            if (guessesRemaining != 0) {
                guessesRemaining = (guessesRemaining - 1);
                userSelection.push(userChoice);
                if (userChoice === psychicChoice) {
                    userScore++;
                    guessesRemaining = 0;
                    reset();
                } else if (guessesRemaining == 0) {
                    psychicScore++
                    reset();
                }
            }

            winsText.textContent = "Wins: " + userScore;
            lossesText.textContent = "Losses: " + psychicScore;
            guessesRemainingText.textContent = "Guesses remaining: " + guessesRemaining;
            userSelectionText.textContent = "Your guesses so far: " + userSelection.join();
        }
    </script>

</body>

</html>